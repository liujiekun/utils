!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(n="undefined"!=typeof globalThis?globalThis:n||self).Cacc4951657ae5=e()}(this,(function(){"use strict";var n;return n=window.Vue,void((()=>{if(!window.conch)return console.info("请先加载comp包"),!0})()||window.conch.register("C2244101d301546939b04b3a54018eac9",function(){const n=class extends window.conch.Base{constructor(n,e){super(n,e),this.config={options:{chart:{margin:{top:0,bottom:0,left:0,right:0},pieStyle:{stroke:"#fff",lineWidth:0},numericalLabel:{show:!1,position:"inner",spiderStyle:{show:!0,stroke:"#ddd",lineWidth:"1"},textStyle:{fontSize:10,color:"#ddd",fontWeight:"normal",fontFamily:"Microsoft Yahei"}},legend:{show:!0,flipPage:!0,layout:{loc:"top-right"},marker:{show:!0,shape:"circle",size:4},textStyle:{fontFamily:"Microsoft Yahei",fontWeight:"normal",fontSize:12,color:"rgb(144, 160, 174)"}}},axis:{radiusAxis:{radius:.8}},series:{series:[{color:"#79daff",mapping:{fieldValue:"设备",serieName:"设备1"}},{color:"#3dabff",mapping:{fieldValue:"建材",serieName:"建材1"}},{color:"#0a73ff",mapping:{fieldValue:"食品",serieName:"食品1"}}],seriesMapping:!1},others:{tooltip:{show:!0,textStyle:{fontFamily:"Microsoft Yahei",fontWeight:"normal",fontSize:14,color:"#fff"},bgBox:{backgroundColor:"rgba(0, 0, 0, 0.65)",padding:10,border:{borderWidth:0,borderColor:"#333"}}}}}},this.data=[{value:1548,name:"CityE"},{value:735,name:"CityC"},{value:510,name:"CityD"},{value:434,name:"CityB"},{value:335,name:"CityA"}],this.type="echarts"}getOption(n){const e={tooltip:{show:this.config.options.others.tooltip.show,trigger:"item",backgroundColor:this.config.options.others.tooltip.bgBox.backgroundColor,borderWidth:this.config.options.others.tooltip.bgBox.border.borderWidth,borderColor:this.config.options.others.tooltip.bgBox.border.borderColor,padding:this.config.options.others.tooltip.bgBox.padding,textStyle:{color:this.config.options.others.tooltip.textStyle.color,fontFamily:this.config.options.others.tooltip.textStyle.fontFamily,fontSize:this.config.options.others.tooltip.textStyle.fontSize,fontWeight:this.config.options.others.tooltip.textStyle.fontWeight},formatter:"{b} : {c} ({d}%)"},grid:this.config.options.chart.margin,series:[{type:"pie",radius:(Math.round(1e4*this.config.options.axis.radiusAxis.radius)/100).toFixed(0)+"%",center:["50%","50%"],selectedMode:"single",colorBy:"data",itemStyle:{borderColor:this.config.options.chart.pieStyle.stroke,borderWidth:this.config.options.chart.pieStyle.lineWidth},label:{show:this.config.options.chart.numericalLabel.show,position:this.config.options.chart.numericalLabel.position,fontSize:this.config.options.chart.numericalLabel.textStyle.fontSize,color:this.config.options.chart.numericalLabel.textStyle.color,fontWeight:this.config.options.chart.numericalLabel.textStyle.fontWeight,fontFamily:this.config.options.chart.numericalLabel.textStyle.fontFamily},labelLine:{show:this.config.options.chart.numericalLabel.spiderStyle.show,lineStyle:{width:this.config.options.chart.numericalLabel.spiderStyle.lineWidth,color:this.config.options.chart.numericalLabel.spiderStyle.stroke}},data:n,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}],visualMap:{show:this.config.options.chart.legend.show,top:this.config.options.chart.legend.layout.loc.split("-")[0],left:this.config.options.chart.legend.layout.loc.split("-")[1],type:"continuous",min:100,max:800,textStyle:{color:this.config.options.chart.legend.textStyle.color,fontFamily:this.config.options.chart.legend.textStyle.fontFamily,fontSize:this.config.options.chart.legend.textStyle.fontSize,fontWeight:this.config.options.chart.legend.textStyle.fontWeight},hoverLink:!1,calculable:!0,orient:"horizontal",inRange:{color:this.themes[1]}}};"spider"===this.config.options.chart.numericalLabel.position&&(e.series[0].label.position="outside",e.series[0].labelLine.length2=50,e.series[0].labelLine.length=10);const t=this.config.options.chart.margin,o=this.dom.offsetHeight,i=this.dom.offsetWidth,l=o-t.top-t.bottom,a=i-t.left-t.right;let r=null;r=l>a?(a/i*this.config.options.axis.radiusAxis.radius*100).toFixed(0)+"%":(l/o*this.config.options.axis.radiusAxis.radius*100).toFixed(0)+"%";const s=a/2+t.left,p=l/2+t.top,c=(s/i*100).toFixed(0)+"%",d=(p/o*100).toFixed(0)+"%";return e.series[0].center=[c,d],e.series[0].radius=r,e}transformOptions(){return this.getOption(this.data)}onExecute(n,e,t,o){let i=o.curExecName;["执行","显示","隐藏"].includes(i)&&(this.data=e["数据"]||this.data,"显示"===i?this.setOption((()=>this.getOption(this.data))()):"隐藏"===i?this.dom.style.display="none":"执行"===i&&(this.dom.style.display=""))}};return n.prototype._registerImg=function(n){},n}(),{key:"Cd758e587e23f6",width:400,height:250,options:'{\n  "blueprint": {\n    "name": "饼图-视觉映射",\n    "group": "UI",\n    "inputs": [\n      { "name": "执行", "type": "exec" },\n      { "name": "显示", "type": "exec" },\n      { "name": "隐藏", "type": "exec" },\n      { "name": "数据", "type": "any" }\n    ],\n    "outputs": []\n  },\n  "propertyPanel": {\n    "options": {\n      "type": "menu",\n      "children": {\n        "chart": {\n          "name": "图表",\n          "children": {\n            "margin": {\n              "type": "margin",\n              "name": "自定义边距",\n              "default": {\n                "top": 20,\n                "bottom": 0,\n                "left": 0,\n                "right": 0\n              },\n              "children": {\n                "show": {\n                  "default": true\n                }\n              },\n              "enableHide": true\n            },\n            "pieStyle": {\n              "name": "饼图样式",\n              "type": "suite",\n              "children": {\n                "stroke": {\n                  "name": "描边颜色",\n                  "type": "fill",\n                  "default": "#fff",\n                  "col": 12\n                },\n                "lineWidth": {\n                  "name": "描边粗细",\n                  "type": "stepper",\n                  "default": 0,\n                  "step": 1,\n                  "col": 12,\n                  "suffix": "px"\n                }\n              }\n            },\n            "numericalLabel": {\n              "name": "值标签",\n              "type": "group",\n              "children": {\n                "show": {\n                  "default": false\n                },\n                "position": {\n                  "name": "位置",\n                  "type": "select",\n                  "default": "inner",\n                  "options": [\n                    {\n                      "name": "内部",\n                      "value": "inner"\n                    },\n                    {\n                      "name": "外部",\n                      "value": "outer"\n                    },\n                    {\n                      "name": "蜘蛛布局",\n                      "value": "spider"\n                    }\n                  ]\n                },\n                "spiderStyle": {\n                  "name": "引导线样式",\n                  "type": "suite",\n                  "enableHide": true,\n                  "children": {\n                    "show": {\n                      "default": true\n                    },\n                    "stroke": {\n                      "name": "颜色",\n                      "type": "color",\n                      "default": "#ddd",\n                      "col": 12\n                    },\n                    "lineWidth": {\n                      "name": "宽度",\n                      "type": "stepper",\n                      "default": "1",\n                      "suffix": "px",\n                      "col": 12\n                    }\n                  },\n                  "showInPanel": {\n                    "conditions": [\n                      ["options.chart.numericalLabel.position", "$eq", "spider"]\n                    ]\n                  }\n                },\n                "textStyle": {\n                  "type": "font",\n                  "name": "文本样式",\n                  "default": {\n                    "fontSize": 10,\n                    "color": "#ddd",\n                    "fontWeight": "normal",\n                    "fontFamily": "Microsoft Yahei"\n                  }\n                }\n              },\n              "enableHide": true\n            },\n            "legend": {\n              "name": "图例",\n              "type": "group",\n              "fold": true,\n              "children": {\n                "show": {\n                  "default": true\n                },\n                "flipPage": {\n                  "name": "允许翻页",\n                  "type": "switch",\n                  "default": true\n                },\n                "layout": {\n                  "name": "布局",\n                  "type": "suite",\n                  "children": {\n                    "loc": {\n                      "name": "位置",\n                      "type": "iconRadio",\n                      "default": "top-right",\n                      "options": [\n                        {\n                          "value": "top-left",\n                          "src": "top-left",\n                          "label": "顶部居左"\n                        },\n                        {\n                          "value": "top-center",\n                          "src": "top-center",\n                          "label": "顶部居中"\n                        },\n                        {\n                          "value": "top-right",\n                          "src": "top-right",\n                          "label": "顶部居右"\n                        },\n                        {\n                          "value": "bottom-left",\n                          "src": "bottom-left",\n                          "label": "底部居左"\n                        },\n                        {\n                          "value": "bottom-center",\n                          "src": "bottom-center",\n                          "label": "底部居中"\n                        },\n                        {\n                          "value": "bottom-right",\n                          "src": "bottom-right",\n                          "label": "底部居右"\n                        }\n                      ]\n                    }\n                  }\n                },\n                "marker": {\n                  "name": "图例标记",\n                  "type": "suite",\n                  "children": {\n                    "show": {\n                      "default": true\n                    },\n                    "shape": {\n                      "name": "图例形状",\n                      "type": "select",\n                      "default": "circle",\n                      "options": [\n                        {\n                          "value": "hyphen",\n                          "label": "连字符"\n                        },\n                        {\n                          "name": "圆点",\n                          "value": "circle"\n                        },\n                        {\n                          "name": "方形",\n                          "value": "square"\n                        },\n                        {\n                          "name": "三角形",\n                          "value": "triangle"\n                        },\n                        {\n                          "value": "diamond",\n                          "name": "菱形"\n                        },\n                        {\n                          "value": "hexagon",\n                          "label": "六角形"\n                        },\n                        {\n                          "value": "bowtie",\n                          "label": "蝶形"\n                        },\n                        {\n                          "value": "cross",\n                          "label": "交叉"\n                        },\n                        {\n                          "value": "tick",\n                          "label": "记号"\n                        },\n                        {\n                          "value": "plus",\n                          "label": "正号"\n                        },\n                        {\n                          "value": "line",\n                          "label": "竖线"\n                        }\n                      ],\n                      "col": 12\n                    },\n                    "size": {\n                      "name": "图例大小",\n                      "type": "stepper",\n                      "default": 4,\n                      "step": 1,\n                      "suffix": "px",\n                      "col": 12\n                    }\n                  }\n                },\n                "textStyle": {\n                  "type": "font",\n                  "name": "图例文本",\n                  "default": {\n                    "fontFamily": "Microsoft Yahei",\n                    "fontWeight": "normal",\n                    "fontSize": 12,\n                    "color": "rgb(144, 160, 174)"\n                  }\n                }\n              },\n              "enableHide": true\n            }\n          },\n          "type": "menuChild",\n          "mode": "single"\n        },\n        "axis": {\n          "name": "坐标轴",\n          "type": "menuChild",\n          "mode": "multiple",\n          "children": {\n            "radiusAxis": {\n              "name": "径向轴",\n              "children": {\n                "radius": {\n                  "name": "半径",\n                  "type": "slider",\n                  "default": 0.8,\n                  "min": 0,\n                  "max": 1,\n                  "precision": 3,\n                  "step": 0.001\n                }\n              }\n            }\n          }\n        },\n        "series": {\n          "type": "menuChild",\n          "name": "系列",\n          "children": {\n            "series": {\n              "type": "tabs",\n              "name": "数据系列",\n              "default": [\n                {\n                  "color": "#79daff",\n                  "mapping": {\n                    "fieldValue": "设备",\n                    "serieName": "设备1"\n                  }\n                },\n                {\n                  "color": "#3dabff",\n                  "mapping": {\n                    "fieldValue": "建材",\n                    "serieName": "建材1"\n                  }\n                },\n                {\n                  "color": "#0a73ff",\n                  "mapping": {\n                    "fieldValue": "食品",\n                    "serieName": "食品1"\n                  }\n                }\n              ],\n              "template": {\n                "type": "object",\n                "name": "系列<%= i + 1%>",\n                "children": {\n                  "mapping": {\n                    "name": "映射字段",\n                    "type": "suite",\n                    "children": {\n                      "fieldValue": {\n                        "name": "name字段值",\n                        "type": "text",\n                        "default": "",\n                        "col": 12\n                      },\n                      "serieName": {\n                        "name": "显示名称",\n                        "type": "text",\n                        "default": "",\n                        "col": 12\n                      }\n                    },\n                    "showInPanel": {\n                      "conditions": [["...seriesMapping", "$eq", true]]\n                    }\n                  },\n                  "color": {\n                    "name": "颜色",\n                    "type": "fill",\n                    "default": "#342432"\n                  }\n                }\n              }\n            },\n            "seriesMapping": {\n              "name": "类型映射",\n              "type": "switch",\n              "default": false,\n              "description": "通过映射字段设置特定类型的颜色"\n            }\n          }\n        },\n        "others": {\n          "name": "其它",\n          "children": {\n            "tooltip": {\n              "name": "提示框",\n              "type": "group",\n              "fold": true,\n              "children": {\n                "show": {\n                  "default": true\n                },\n                "textStyle": {\n                  "name": "文本样式",\n                  "type": "font",\n                  "default": {\n                    "fontFamily": "Microsoft Yahei",\n                    "fontWeight": "normal",\n                    "fontSize": 14,\n                    "color": "#fff"\n                  }\n                },\n                "bgBox": {\n                  "name": "背景框样式",\n                  "type": "group",\n                  "children": {\n                    "backgroundColor": {\n                      "name": "背景色",\n                      "type": "fill",\n                      "default": "rgba(0, 0, 0, 0.65)"\n                    },\n                    "padding": {\n                      "name": "内边距",\n                      "type": "stepper",\n                      "default": 10,\n                      "step": 1,\n                      "suffix": "px"\n                    },\n                    "border": {\n                      "type": "suite",\n                      "name": "边框",\n                      "children": {\n                        "borderWidth": {\n                          "name": "边框粗细",\n                          "type": "stepper",\n                          "step": 1,\n                          "default": 0,\n                          "col": 12,\n                          "suffix": "px"\n                        },\n                        "borderColor": {\n                          "name": "边框颜色",\n                          "type": "fill",\n                          "default": "#333",\n                          "col": 12\n                        }\n                      }\n                    }\n                  }\n                }\n              },\n              "enableHide": true\n            }\n          },\n          "type": "menuChild",\n          "mode": "single"\n        }\n      }\n    }\n  }\n}\n',script:{echarts:"/lib/echarts.js"}},n))}));
