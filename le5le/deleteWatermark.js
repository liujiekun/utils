const fs = require('fs')
const path = require('path')
const targetDir = path.resolve(__dirname, "svgs")


fs.readdir(targetDir, function (err, files) {
  if (err) {
    console.log(err);
  }
  if (Array.isArray(files)) {
    function deletewatermark(index) {
      const file = files[index]
      if (file) {
        const p = path.resolve(__dirname, "svgs", file);
        fs.stat(p, (err, stat) => {
          if (err) {
            console.log(err);
          } else {
            if (stat.isFile() && p.endsWith(".svg")) {
              fs.readFile(p, "utf8", (err, content) => {
                if (err) {
                  console.log(err)
                }
                console.log('p 读取', p, index)
                content = content.replace(/class="cls-(\d)"/g, 'class="cls-1"')
                content = content.replace(/<path d="M46\.21,68\.84c-\.17\.37-\.39\.79-\.65,1\.26s-\.54\.94-\.84,1\.43-\.6,1-\.9,1\.43-\.59\.88-\.85,1\.25l-2\.34-1\.12c\.27-\.36\.56-\.77\.87-1\.22s\.61-\.9\.9-1\.36\.55-\.91\.79-1\.36\.43-\.83\.58-1\.18Zm4-1\.85v4\.12a4\.05,4\.05,0,0,1-\.14,1\.17,1\.56,1\.56,0,0,1-\.45\.73,2\.28,2\.28,0,0,1-\.8\.46c-\.33\.11-\.74\.23-1\.22\.34l-1\.17\.29-\.83-2\.59\.9-\.22a2\.46,2\.46,0,0,0,\.72-\.27\.63\.63,0,0,0,\.21-\.55V67\.36l-5\.6\.74\.58-7\.74c\.62-\.08,1\.28-\.18,2-\.29s1\.4-\.22,2\.11-\.34l2\.14-\.39c\.72-\.13,1\.4-\.27,2\.07-\.41s1\.28-\.27,1\.87-\.4,1\.1-\.27,1\.56-\.4l\.55,2\.63-2\.07\.48c-\.77\.17-1\.57\.34-2\.42\.5s-1\.71\.33-2\.59\.49L45,62\.68l-\.18,2\.55,2\.59-\.34V62\.68l2\.78-\.31v2\.15l4\.93-\.65v2\.48Zm2\.71-\.22q\.27\.28\.66\.78l\.83,1\.08c\.29\.39\.58\.79\.86,1\.21s\.53\.8\.76,1\.17l-2\.36,1\.83c-\.18-\.36-\.4-\.75-\.65-1\.16s-\.51-\.83-\.79-1\.23-\.54-\.79-\.81-1\.15-\.51-\.66-\.72-\.91Z"\/><path d="M71\.74,62v2\.21L57\.1,66\.09V63\.87l3\.27-\.43\.24-1-2\.39\.31V60\.9l2\.85-\.38\.21-\.87-3\.4\.44V57\.9L71,56\.18v2\.19l-6\.85\.9-\.21\.88,6-\.79-\.14,2\.85Zm-13\.2,4\.66,11\.75-1\.54V70\.7L58\.54,72\.24Zm2\.59,3\.09,6\.44-\.84V67\.57l-6\.44\.85Zm2\.08-6\.63,3\.88-\.51\.06-1-3\.71\.49Z"\/><path d="M78\.42,64\.6c-\.17\.37-\.39\.79-\.65,1\.25s-\.54,1-\.83,1\.44-\.6,1-\.91,1\.43-\.58\.88-\.84,1\.25l-2\.35-1\.12c\.28-\.37\.57-\.77\.87-1\.22s\.61-\.9\.9-1\.36\.55-\.91\.79-1\.36\.43-\.83\.58-1\.18Zm4-1\.85v4\.12A4\.05,4\.05,0,0,1,82\.27,68a1\.56,1\.56,0,0,1-\.45\.73,2\.28,2\.28,0,0,1-\.8\.46c-\.33\.11-\.73\.22-1\.21\.34l-1\.17\.29-\.83-2\.59\.89-\.22a2\.69,2\.69,0,0,0,\.73-\.27\.65\.65,0,0,0,\.2-\.55V63\.12l-5\.6\.74\.59-7\.74c\.62-\.08,1\.27-\.18,2-\.29s1\.39-\.22,2\.1-\.34,1\.43-\.25,2\.14-\.39,1\.41-\.27,2\.07-\.41,1\.28-\.27,1\.87-\.41,1\.11-\.26,1\.56-\.39l\.55,2\.63L84\.81,57c-\.76\.17-1\.57\.34-2\.42\.5s-1\.71\.33-2\.59\.49l-2\.58\.45L77,61l2\.59-\.34V58\.44l2\.78-\.31v2\.15l4\.93-\.65V62\.1Zm2\.72-\.22c\.17\.19\.39\.45\.65\.78s\.54\.69\.83,1\.08\.58\.79\.86,1\.2\.54\.81\.76,1\.18l-2\.35,1\.82c-\.19-\.35-\.41-\.74-\.65-1\.15s-\.52-\.83-\.79-1\.24-\.55-\.78-\.82-1\.14-\.5-\.66-\.72-\.91Z"\/>/, '')
                content = content.replace(/<path d="M45\.78,68\.79c-\.17\.37-\.39\.79-\.65,1\.25s-\.54\.95-\.84,1\.44-\.6,1-\.9,1\.43-\.59\.88-\.85,1\.25L40\.2,73c\.27-\.37\.56-\.77\.87-1\.22s\.61-\.9\.89-1\.36\.55-\.91\.79-1\.36\.44-\.83\.59-1\.18Zm4-1\.85v4\.12a4\.1,4\.1,0,0,1-\.13,1\.17,1\.74,1\.74,0,0,1-\.45\.73,2\.42,2\.42,0,0,1-\.81\.46c-\.33\.11-\.73\.23-1\.21\.34L46,74\.05l-\.83-2\.59\.9-\.22a2\.73,2\.73,0,0,0,\.72-\.27\.65\.65,0,0,0,\.2-\.55V67\.31l-5\.59\.74L42,60\.31c\.62-\.08,1\.28-\.18,2-\.29s1\.4-\.22,2\.11-\.34l2\.14-\.39c\.71-\.13,1\.4-\.27,2\.06-\.41s1\.29-\.27,1\.87-\.41,1\.11-\.26,1\.57-\.39l\.55,2\.63-2\.08\.48c-\.76\.17-1\.57\.34-2\.41\.5l-2\.6\.49-2\.58\.45-\.17,2\.55L47,64\.84V62\.63l2\.78-\.31v2\.15l4\.93-\.65v2\.47Zm2\.72-\.22c\.17\.19\.39\.45\.65\.78s\.54\.69\.83,1\.08\.58\.79\.86,1\.2\.54\.81\.77,1\.18l-2\.36,1\.82c-\.18-\.35-\.4-\.74-\.65-1\.15s-\.51-\.83-\.79-1\.24L51,69\.25c-\.27-\.36-\.51-\.66-\.73-\.91Z"\/><path d="M71\.3,61\.9v2\.21L56\.66,66V63\.82l3\.27-\.43\.25-1-2\.39\.31V60\.84l2\.84-\.37\.21-\.87-3\.4\.44V57\.85l13\.08-1\.73v2\.2l-6\.85\.9-\.21\.88,6-\.79-\.15,2\.85ZM58\.11,66\.56,69\.86,65v5\.63L58\.11,72\.19Zm2\.59,3\.09,6\.44-\.84V67\.52l-6\.44\.85ZM62\.78,63l3\.87-\.51\.07-\.95L63,62\.05Z"\/><path d="M78,64\.55c-\.17\.37-\.39\.79-\.65,1\.25s-\.54,1-\.84,1\.44-\.6,1-\.9,1\.43-\.59\.88-\.85,1\.25l-2\.34-1\.13c\.27-\.36\.56-\.76\.87-1\.21s\.61-\.9\.9-1\.36\.55-\.91\.79-1\.36\.43-\.83\.58-1\.18Zm4-1\.85v4\.12A4\.05,4\.05,0,0,1,81\.84,68a1\.56,1\.56,0,0,1-\.45\.73,2\.12,2\.12,0,0,1-\.8\.45c-\.33\.12-\.74\.23-1\.22\.35l-1\.17\.29-\.83-2\.6\.9-\.21a2\.17,2\.17,0,0,0,\.72-\.28\.6\.6,0,0,0,\.21-\.54V63\.07l-5\.6\.74\.58-7\.74c\.62-\.08,1\.28-\.18,2-\.29s1\.4-\.22,2\.11-\.34l2\.14-\.39c\.72-\.13,1\.4-\.27,2\.07-\.41s1\.28-\.27,1\.87-\.41,1\.1-\.26,1\.56-\.39l\.55,2\.63L84\.38,57c-\.77\.17-1\.57\.34-2\.42\.5s-1\.71\.33-2\.59\.49l-2\.58\.45-\.18,2\.55,2\.59-\.34V58\.38l2\.78-\.3v2\.15l4\.93-\.65v2\.47Zm2\.71-\.22q\.27\.29\.66\.78l\.83,1\.08c\.29\.39\.58\.79\.86,1\.2s\.53\.81\.76,1\.18l-2\.36,1\.82c-\.18-\.35-\.4-\.74-\.65-1\.16s-\.51-\.82-\.79-1\.23-\.54-\.78-\.81-1\.14-\.51-\.66-\.72-\.91Z"\/>/, '')
                content = content.replace(/<path class="cls-1" d="M45\.78,68\.79c-\.17\.37-\.39\.79-\.65,1\.25s-\.54\.95-\.84,1\.44-\.6,1-\.9,1\.43-\.59\.88-\.85,1\.25L40\.2,73c\.27-\.37\.56-\.77\.87-1\.22s\.61-\.9\.89-1\.36\.55-\.91\.79-1\.36\.44-\.83\.59-1\.18Zm4-1\.85v4\.12a4\.1,4\.1,0,0,1-\.13,1\.17,1\.74,1\.74,0,0,1-\.45\.73,2\.42,2\.42,0,0,1-\.81\.46c-\.33\.11-\.73\.23-1\.21\.34L46,74\.05l-\.83-2\.59\.9-\.22a2\.73,2\.73,0,0,0,\.72-\.27\.65\.65,0,0,0,\.2-\.55V67\.31l-5\.59\.74L42,60\.31c\.62-\.08,1\.28-\.18,2-\.29s1\.4-\.22,2\.11-\.34l2\.14-\.39c\.71-\.13,1\.4-\.27,2\.06-\.41s1\.29-\.27,1\.87-\.41,1\.11-\.26,1\.57-\.39l\.55,2\.63-2\.08\.48c-\.76\.17-1\.57\.34-2\.41\.5l-2\.6\.49-2\.58\.45-\.17,2\.55L47,64\.84V62\.63l2\.78-\.31v2\.15l4\.93-\.65v2\.47Zm2\.72-\.22c\.17\.19\.39\.45\.65\.78s\.54\.69\.83,1\.08\.58\.79\.86,1\.2\.54\.81\.77,1\.18l-2\.36,1\.82c-\.18-\.35-\.4-\.74-\.65-1\.15s-\.51-\.83-\.79-1\.24L51,69\.25c-\.27-\.36-\.51-\.66-\.73-\.91Z"\/><path class="cls-1" d="M71\.3,61\.9v2\.21L56\.66,66V63\.82l3\.27-\.43\.25-1-2\.39\.31V60\.84l2\.84-\.37\.21-\.87-3\.4\.44V57\.85l13\.08-1\.73v2\.2l-6\.85\.9-\.21\.88,6-\.79-\.15,2\.85ZM58\.11,66\.56,69\.86,65v5\.63L58\.11,72\.19Zm2\.59,3\.09,6\.44-\.84V67\.52l-6\.44\.85ZM62\.78,63l3\.87-\.51\.07-\.95L63,62\.05Z"\/><path class="cls-1" d="M78,64\.55c-\.17\.37-\.39\.79-\.65,1\.25s-\.54,1-\.84,1\.44-\.6,1-\.9,1\.43-\.59\.88-\.85,1\.25l-2\.34-1\.13c\.27-\.36\.56-\.76\.87-1\.21s\.61-\.9\.9-1\.36\.55-\.91\.79-1\.36\.43-\.83\.58-1\.18Zm4-1\.85v4\.12A4\.05,4\.05,0,0,1,81\.84,68a1\.56,1\.56,0,0,1-\.45\.73,2\.12,2\.12,0,0,1-\.8\.45c-\.33\.12-\.74\.23-1\.22\.35l-1\.17\.29-\.83-2\.6\.9-\.21a2\.17,2\.17,0,0,0,\.72-\.28\.6\.6,0,0,0,\.21-\.54V63\.07l-5\.6\.74\.58-7\.74c\.62-\.08,1\.28-\.18,2-\.29s1\.4-\.22,2\.11-\.34l2\.14-\.39c\.72-\.13,1\.4-\.27,2\.07-\.41s1\.28-\.27,1\.87-\.41,1\.1-\.26,1\.56-\.39l\.55,2\.63L84\.38,57c-\.77\.17-1\.57\.34-2\.42\.5s-1\.71\.33-2\.59\.49l-2\.58\.45-\.18,2\.55,2\.59-\.34V58\.38l2\.78-\.3v2\.15l4\.93-\.65v2\.47Zm2\.71-\.22q\.27\.29\.66\.78l\.83,1\.08c\.29\.39\.58\.79\.86,1\.2s\.53\.81\.76,1\.18l-2\.36,1\.82c-\.18-\.35-\.4-\.74-\.65-1\.16s-\.51-\.82-\.79-1\.23-\.54-\.78-\.81-1\.14-\.51-\.66-\.72-\.91Z"\/>/, '')
                content = content.replace(/<path d="M47,66\.84c-\.17\.37-\.39\.79-\.65,1\.26s-\.54,1-\.84,1\.44-\.6,1-\.9,1\.43-\.59\.88-\.85,1\.25l-2\.34-1\.13c\.27-\.36\.56-\.76\.87-1\.21s\.61-\.9\.9-1\.36\.55-\.91\.79-1\.36\.43-\.84\.58-1\.18ZM51,65v4\.12a4\.05,4\.05,0,0,1-\.14,1\.17,1\.56,1\.56,0,0,1-\.45\.73,2\.12,2\.12,0,0,1-\.8\.45c-\.33\.12-\.74\.23-1\.21\.35l-1\.18\.28-\.83-2\.59\.9-\.21A2\.17,2\.17,0,0,0,48,69a\.61\.61,0,0,0,\.21-\.55v-3\.1l-5\.6\.73\.59-7\.74c\.61-\.08,1\.27-\.17,2-\.28l2\.11-\.34,2\.14-\.39,2\.07-\.41c\.66-\.14,1\.28-\.27,1\.87-\.41s1\.1-\.27,1\.56-\.39l\.55,2\.63-2\.07\.47c-\.77\.18-1\.57\.34-2\.42\.51s-1\.71\.33-2\.59\.49l-2\.58\.45-\.18,2\.55,2\.59-\.34V60\.68l2\.78-\.3v2\.15l4\.93-\.65v2\.47Zm2\.72-\.23c\.17\.2\.39\.46\.65\.79l\.83,1\.08c\.29\.39\.58\.79\.86,1\.2s\.53\.81\.76,1\.18l-2\.36,1\.82c-\.18-\.35-\.4-\.74-\.65-1\.16s-\.51-\.82-\.79-1\.23-\.54-\.78-\.81-1\.14-\.51-\.67-\.72-\.91Z"\/><path d="M72\.55,60v2\.22L57\.91,64\.09V61\.88l3\.27-\.43\.24-1L59,60\.79V58\.9l2\.85-\.37\.21-\.88-3\.4\.45V55\.9l13\.08-1\.72v2\.2l-6\.85\.9-\.21\.87,6-\.78-\.14,2\.85Zm-13\.2,4\.67L71\.1,63\.07V68\.7L59\.35,70\.25Zm2\.59,3\.09,6\.44-\.85V65\.58l-6\.44\.85ZM64,61\.07l3\.88-\.5\.06-1-3\.71\.49Z"\/><path d="M79\.24,62\.6q-\.27\.55-\.66,1\.26c-\.26\.47-\.53,1-\.83,1\.44s-\.6,1-\.91,1\.42S76\.26,67\.6,76,68l-2\.35-1\.12c\.28-\.36\.57-\.76\.88-1\.21s\.6-\.9\.89-1\.36\.55-\.92\.79-1\.36\.43-\.84\.58-1\.18Zm4-1\.84v4\.12a3\.77,3\.77,0,0,1-\.14,1\.17,1\.69,1\.69,0,0,1-\.44\.73,2\.25,2\.25,0,0,1-\.81\.45c-\.33\.12-\.73\.23-1\.21\.35l-1\.17\.28-\.83-2\.59\.89-\.21a2\.35,2\.35,0,0,0,\.73-\.28\.63\.63,0,0,0,\.2-\.55v-3\.1l-5\.6\.73\.59-7\.74c\.62-\.08,1\.27-\.17,2-\.28l2\.1-\.34c\.71-\.12,1\.43-\.25,2\.14-\.39l2\.07-\.41c\.66-\.14,1\.28-\.27,1\.87-\.41l1\.56-\.39\.56,2\.63L85\.62,55l-2\.42\.51L80\.61,56,78,56\.45,77\.85,59l2\.59-\.34V56\.44l2\.78-\.3v2\.15l4\.93-\.65v2\.47Zm2\.72-\.23c\.17\.2\.39\.46\.65\.79s\.54\.69\.83,1\.08\.58\.79\.86,1\.2\.54\.81\.77,1\.18L86\.69,66\.6c-\.19-\.36-\.4-\.74-\.65-1\.16s-\.52-\.83-\.79-1\.23-\.55-\.78-\.82-1\.14a9\.05,9\.05,0,0,0-\.72-\.91Z"\/>/, '')
                // content = content.replace(/(<g class="cls-3">(.|\n)+?\/g>)/, '')
                // content = content.replace(/(<g class="cls-4">(.|\n)+?\/g>)/, '')
                fs.writeFileSync(p, content)
                console.log(`${ file }替换完毕`)
                deletewatermark(index + 1)
              })
            } else {
              deletewatermark(index + 1)
            }
          }
        })
      }
    }
    deletewatermark(0)
  }
})